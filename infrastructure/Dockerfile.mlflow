# Custom MLflow Image with PostgreSQL Support
# Base: Official MLflow v2.9.2
# Purpose: Add psycopg2-binary for TimescaleDB connectivity

FROM ghcr.io/mlflow/mlflow:v2.9.2

# Install PostgreSQL adapter
RUN pip install --no-cache-dir psycopg2-binary==2.9.9

# Verify installation
RUN python -c "import psycopg2; print('psycopg2 version:', psycopg2.__version__)"

# Keep original entrypoint
# Default command will be overridden by docker-compose
